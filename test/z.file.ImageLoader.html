<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>z.file.ImageLoader Text</title>
</head>
<body>
<p>
<textarea id="size" cols="100" rows="20"></textarea>
</p>
<textarea id="url" placeholder="url"  cols="100" rows="5"></textarea><button id="btn" style="width: 50px;height: 28px;">load</button>
<script src="../ztool.all.uncompressed.js"></script>
<script src="../src/z.file.ImageLoader.js"></script>
<script>
Z.$package(function(z){
    var sel = z.dom.get('size');
    var uel = z.dom.get('url');
    var btn = z.dom.get('btn');

    var loader = new z.file.ImageLoader();
    var onImageLoad = function(success, imgUrl, imgSize){
        if(success){
            sel.value += imgUrl + ': ' + JSON.stringify(imgSize) + '\n';
        }else{
            sel.value += '=======' + imgUrl + ': error =======\n';
        }
    };
    btn.addEventListener('click', function(e){
        var urls = uel.value.split('\n');
        for(var i in urls){
            loader.load(urls[i], onImageLoad);
        }
    });
});

</script>
